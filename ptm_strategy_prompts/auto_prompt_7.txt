Build me a Python trading strategy file number 7 with new logic.