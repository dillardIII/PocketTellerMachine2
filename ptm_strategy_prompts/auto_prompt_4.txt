Build me a Python trading strategy file number 4 with new logic.